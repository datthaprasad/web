{"ast":null,"code":"import _regeneratorRuntime from\"D:/WEB_MINI_PROJECT/web/ReactJS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/WEB_MINI_PROJECT/web/ReactJS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/WEB_MINI_PROJECT/web/ReactJS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import\"./Form.css\";import ErrorModel from'../UIelements/Error';import LoadingSpinner from'../UIelements/LoadingSpinner';import{useHttpClient}from\"./Http-Hook\";var Form=function Form(){useEffect(function(){document.body.style.background=\"url('https://www.myamcat.com/blog/wp-content/uploads/2016/02/graduation-hats.jpg') no-repeat center\";document.body.style.backgroundRepeat=\"no-repeat\";document.body.style.backgroundSize=\"cover\";document.body.style.backgroundPosition=\"center\";},[]);var _useState=useState(),_useState2=_slicedToArray(_useState,2),pass_error=_useState2[0],seterror=_useState2[1];var _useHttpClient=useHttpClient(),isLoading=_useHttpClient.isLoading,error=_useHttpClient.error,sendRequest=_useHttpClient.sendRequest,clearError=_useHttpClient.clearError,headers=_useHttpClient.headers;var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),header=_useState4[0],setHeader=_useState4[1];var formHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var title,id,type,short,long,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();title=document.getElementById('title').value;id=document.getElementById('id').value;type=String(document.getElementById('type').value).toLowerCase();short=document.getElementById('short').value;long=document.getElementById('long').value;if(!(String(title).length===0)){_context.next=12;break;}seterror(\"Title can not be empty\");setHeader(\"Please fill all data\");return _context.abrupt(\"return\");case 12:if(!(String(type).length===0)){_context.next=18;break;}seterror(\"Type can not be empty\");setHeader(\"Please fill all data\");return _context.abrupt(\"return\");case 18:if(String(type).toLowerCase()===\"aptitude\"||String(type).toLowerCase()===\"technical\"||String(type).toLowerCase()===\"hr\"){_context.next=24;break;}seterror(\"select course type between Aptitude/Technical/HR\");setHeader(\"Course type error\");return _context.abrupt(\"return\");case 24:if(!(String(id).length===0)){_context.next=30;break;}seterror(\"Id can not be empty\");setHeader(\"Please fill all data\");return _context.abrupt(\"return\");case 30:if(!(String(short).length===0)){_context.next=34;break;}seterror(\"Short Description can not be empty\");setHeader(\"Please fill all data\");return _context.abrupt(\"return\");case 34:if(type===\"aptitude\")type='A';else if(type===\"technical\")type=\"T\";else if(type===\"hr\")type=\"H\";_context.prev=35;_context.next=38;return sendRequest(\"https://job-portal-sit.herokuapp.com/course-upload\",'POST',{'Content-Type':'application/json'},JSON.stringify({title:title,id:id,type:type,short:short,long:long}));case 38:data=_context.sent;if(data===\"successfull\"){seterror(\"given course stored succefully\");setHeader(\"Successfully Uploaded\");}_context.next=44;break;case 42:_context.prev=42;_context.t0=_context[\"catch\"](35);case 44:case\"end\":return _context.stop();}}},_callee,null,[[35,42]]);}));return function formHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(React.Fragment,{children:[pass_error&&/*#__PURE__*/_jsx(ErrorModel,{header:header,error:pass_error,onClear:function onClear(){seterror();}}),error&&/*#__PURE__*/_jsx(ErrorModel,{header:headers,error:error,onClear:clearError}),isLoading&&/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}),!isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"New Course\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"drive-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-fields\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",id:\"title\",placeholder:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",id:\"type\",placeholder:\"Type (Aptitude/Technical/HR)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",id:\"id\",placeholder:\"YouTube ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",id:\"short\",placeholder:\"Short description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"msg\",children:[/*#__PURE__*/_jsx(\"textarea\",{style:{\"border\":\"solid 1px white\"},id:\"long\",placeholder:\"Additional Description (Optional)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"btns\",style:{textAlign:\"center\"},onClick:formHandler,children:\"submit\"})]})]})]})]});};export default Form;","map":{"version":3,"sources":["D:/WEB_MINI_PROJECT/web/ReactJS/src/Hooks/Form.js"],"names":["React","useEffect","useState","ErrorModel","LoadingSpinner","useHttpClient","Form","document","body","style","background","backgroundRepeat","backgroundSize","backgroundPosition","pass_error","seterror","isLoading","error","sendRequest","clearError","headers","header","setHeader","formHandler","event","preventDefault","title","getElementById","value","id","type","String","toLowerCase","short","long","length","JSON","stringify","data","textAlign"],"mappings":"uhBAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAyBC,QAAzB,KAAwC,OAAxC,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,OAASC,aAAT,KAA8B,aAA9B,CAEA,GAAMC,CAAAA,IAAI,CAAC,QAALA,CAAAA,IAAK,EAAI,CACbL,SAAS,CAAC,UAAI,CACZM,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,UAApB,CAAgC,qGAAhC,CACAH,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBE,gBAApB,CAAqC,WAArC,CACAJ,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBG,cAApB,CAAmC,OAAnC,CACAL,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBI,kBAApB,CAAuC,QAAvC,CACH,CALU,CAKT,EALS,CAAT,CADa,cAOqBX,QAAQ,EAP7B,wCAOAY,UAPA,eAOWC,QAPX,kCAQgDV,aAAa,EAR7D,CAQAW,SARA,gBAQAA,SARA,CAQUC,KARV,gBAQUA,KARV,CAQgBC,WARhB,gBAQgBA,WARhB,CAQ4BC,UAR5B,gBAQ4BA,UAR5B,CAQuCC,OARvC,gBAQuCA,OARvC,gBASkBlB,QAAQ,EAT1B,yCASAmB,MATA,eASOC,SATP,eAUT,GAAMC,CAAAA,WAAW,0FAAC,iBAAOC,KAAP,oJAClBA,KAAK,CAACC,cAAN,GAEMC,KAHY,CAGLnB,QAAQ,CAACoB,cAAT,CAAwB,OAAxB,EAAiCC,KAH5B,CAIZC,EAJY,CAIRtB,QAAQ,CAACoB,cAAT,CAAwB,IAAxB,EAA8BC,KAJtB,CAKdE,IALc,CAKRC,MAAM,CAACxB,QAAQ,CAACoB,cAAT,CAAwB,MAAxB,EAAgCC,KAAjC,CAAN,CAA8CI,WAA9C,EALQ,CAMZC,KANY,CAML1B,QAAQ,CAACoB,cAAT,CAAwB,OAAxB,EAAiCC,KAN5B,CAOZM,IAPY,CAON3B,QAAQ,CAACoB,cAAT,CAAwB,MAAxB,EAAgCC,KAP1B,MASfG,MAAM,CAACL,KAAD,CAAN,CAAcS,MAAd,GAAuB,CATR,2BAUhBpB,QAAQ,CAAC,wBAAD,CAAR,CACAO,SAAS,CAAC,sBAAD,CAAT,CAXgB,8CAeVS,MAAM,CAACD,IAAD,CAAN,CAAaK,MAAb,GAAsB,CAfZ,2BAgBhBpB,QAAQ,CAAC,uBAAD,CAAR,CACAO,SAAS,CAAC,sBAAD,CAAT,CAjBgB,4CAqBRS,MAAM,CAACD,IAAD,CAAN,CAAaE,WAAb,KAA6B,UAA7B,EAAyCD,MAAM,CAACD,IAAD,CAAN,CAAaE,WAAb,KAA6B,WAAtE,EAAmFD,MAAM,CAACD,IAAD,CAAN,CAAaE,WAAb,KAA6B,IArBxG,0BAsBhBjB,QAAQ,CAAC,kDAAD,CAAR,CACAO,SAAS,CAAC,mBAAD,CAAT,CAvBgB,8CA0BVS,MAAM,CAACF,EAAD,CAAN,CAAWM,MAAX,GAAoB,CA1BV,2BA2BhBpB,QAAQ,CAAC,qBAAD,CAAR,CACQO,SAAS,CAAC,sBAAD,CAAT,CA5BQ,8CA+BVS,MAAM,CAACE,KAAD,CAAN,CAAcE,MAAd,GAAuB,CA/Bb,2BAgChBpB,QAAQ,CAAC,oCAAD,CAAR,CACAO,SAAS,CAAC,sBAAD,CAAT,CAjCgB,yCAqClB,GAAGQ,IAAI,GAAG,UAAV,CAAsBA,IAAI,CAAC,GAAL,CAAtB,IACK,IAAGA,IAAI,GAAG,WAAV,CAAuBA,IAAI,CAAC,GAAL,CAAvB,IACA,IAAGA,IAAI,GAAG,IAAV,CAAgBA,IAAI,CAAC,GAAL,CAvCH,wCA2CJZ,CAAAA,WAAW,sDAErB,MAFqB,CAGrB,CAAC,eAAe,kBAAhB,CAHqB,CAIrBkB,IAAI,CAACC,SAAL,CAAe,CACPX,KAAK,CAACA,KADC,CAEPG,EAAE,CAACA,EAFI,CAGPC,IAAI,CAACA,IAHE,CAIPG,KAAK,CAACA,KAJC,CAKPC,IAAI,CAACA,IALE,CAAf,CAJqB,CA3CP,SA2ChBI,IA3CgB,eAuDd,GAAGA,IAAI,GAAG,aAAV,CAAwB,CACtBvB,QAAQ,CAAC,gCAAD,CAAR,CACAO,SAAS,CAAC,uBAAD,CAAT,CACD,CA1Da,wJAAD,kBAAXC,CAAAA,WAAW,4CAAjB,CAiEF,mBACI,MAAC,KAAD,CAAO,QAAP,YACIT,UAAU,eAAI,KAAC,UAAD,EAAY,MAAM,CAAEO,MAApB,CAA4B,KAAK,CAAEP,UAAnC,CAA+C,OAAO,CAAE,kBAAI,CAACC,QAAQ,GAAG,CAAxE,EADlB,CAEKE,KAAK,eAAI,KAAC,UAAD,EAAY,MAAM,CAAEG,OAApB,CAA6B,KAAK,CAAEH,KAApC,CAA2C,OAAO,CAAEE,UAApD,EAFd,CAGKH,SAAS,eAAI,KAAC,cAAD,EAAgB,SAAS,KAAzB,EAHlB,CAIH,CAACA,SAAD,eAAc,aAAK,SAAS,CAAC,SAAf,wBACjB,YAAK,SAAS,CAAC,OAAf,uBACE,kCADF,EADiB,cAIjB,aAAK,SAAS,CAAC,YAAf,wBACE,aAAK,SAAS,CAAC,cAAf,wBACE,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,OAA7B,CAAqC,EAAE,CAAC,OAAxC,CAAgD,WAAW,CAAC,OAA5D,EADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,OAA7B,CAAqC,EAAE,CAAC,MAAxC,CAA+C,WAAW,CAAC,8BAA3D,EAFF,cAGE,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,OAA7B,CAAqC,EAAE,CAAC,IAAxC,CAA6C,WAAW,CAAC,YAAzD,EAHF,cAIE,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,OAA7B,CAAqC,EAAE,CAAC,OAAxC,CAAgD,WAAW,CAAC,mBAA5D,EAJF,GADF,cAQE,aAAK,SAAS,CAAC,KAAf,wBACE,iBAAU,KAAK,CAAE,CAAC,SAAS,iBAAV,CAAjB,CAA+C,EAAE,CAAC,MAAlD,CAAyD,WAAW,CAAC,mCAArE,EADF,cAEE,YAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAE,CAACuB,SAAS,CAAC,QAAX,CAA7B,CAAmD,OAAO,CAAEhB,WAA5D,oBAFF,GARF,GAJiB,GAJX,GADJ,CAwBH,CAnGD,CAqGA,cAAejB,CAAAA,IAAf","sourcesContent":["import React,{useEffect, useState} from \"react\";\r\nimport \"./Form.css\";\r\nimport ErrorModel from '../UIelements/Error';\r\nimport LoadingSpinner from '../UIelements/LoadingSpinner'\r\nimport { useHttpClient } from \"./Http-Hook\";\r\n\r\nconst Form=()=>{\r\n  useEffect(()=>{\r\n    document.body.style.background= \"url('https://www.myamcat.com/blog/wp-content/uploads/2016/02/graduation-hats.jpg') no-repeat center\";\r\n    document.body.style.backgroundRepeat=\"no-repeat\";\r\n    document.body.style.backgroundSize=\"cover\";\r\n    document.body.style.backgroundPosition=\"center\";\r\n},[]);\r\n        const [pass_error,seterror]=useState();\r\n        const {isLoading,error,sendRequest,clearError,headers}=useHttpClient();\r\n        const [header,setHeader]=useState();        \r\n      const formHandler=async (event)=>{\r\n      event.preventDefault();\r\n\r\n      const title= document.getElementById('title').value;\r\n      const id= document.getElementById('id').value;\r\n      let type= String(document.getElementById('type').value).toLowerCase();\r\n      const short= document.getElementById('short').value;\r\n      const long= document.getElementById('long').value;\r\n\r\n      if(String(title).length===0) {\r\n        seterror(\"Title can not be empty\")\r\n        setHeader(\"Please fill all data\")\r\n        return;\r\n      }\r\n      \r\n      else if(String(type).length===0){\r\n        seterror(\"Type can not be empty\")\r\n        setHeader(\"Please fill all data\")\r\n        return;\r\n      }\r\n      \r\n      else if(!(String(type).toLowerCase()===\"aptitude\"||String(type).toLowerCase()===\"technical\"||String(type).toLowerCase()===\"hr\")){\r\n        seterror(\"select course type between Aptitude/Technical/HR\")\r\n        setHeader(\"Course type error\")\r\n        return;\r\n      }\r\n      else if(String(id).length===0){\r\n        seterror(\"Id can not be empty\")\r\n                setHeader(\"Please fill all data\")\r\n                return;\r\n      }\r\n      else if(String(short).length===0){\r\n        seterror(\"Short Description can not be empty\")\r\n        setHeader(\"Please fill all data\")\r\n        return;\r\n      }\r\n      let data;\r\n      if(type===\"aptitude\") type='A';\r\n      else if(type===\"technical\") type=\"T\";\r\n      else if(type===\"hr\") type=\"H\";\r\n\r\n      try{\r\n\r\n        data= await sendRequest(\r\n          `https://job-portal-sit.herokuapp.com/course-upload`,\r\n          'POST',\r\n          {'Content-Type':'application/json'},\r\n          JSON.stringify({\r\n                  title:title,\r\n                  id:id,\r\n                  type:type,\r\n                  short:short,\r\n                  long:long\r\n          }));\r\n\r\n          if(data===\"successfull\"){\r\n            seterror(\"given course stored succefully\")\r\n            setHeader(\"Successfully Uploaded\")\r\n          }\r\n      }\r\n      catch(err){\r\n      }\r\n\r\n    }\r\n\r\n    return(\r\n        <React.Fragment>\r\n           {pass_error && <ErrorModel header={header} error={pass_error} onClear={()=>{seterror()}}/>} \r\n            {error && <ErrorModel header={headers} error={error} onClear={clearError}/>}\r\n            {isLoading && <LoadingSpinner asOverlay/>}\r\n    {!isLoading && <div className=\"wrapper\">\r\n  <div className=\"title\">\r\n    <h1>New Course</h1>\r\n  </div>\r\n  <div className=\"drive-form\">\r\n    <div className=\"input-fields\">\r\n      <input type=\"text\" className=\"input\" id=\"title\" placeholder=\"Title\"/>\r\n      <input type=\"text\" className=\"input\" id=\"type\" placeholder=\"Type (Aptitude/Technical/HR)\"/>\r\n      <input type=\"text\" className=\"input\" id=\"id\" placeholder=\"YouTube ID\"/>\r\n      <input type=\"text\" className=\"input\" id=\"short\" placeholder=\"Short description\"/>\r\n\r\n    </div>\r\n    <div className=\"msg\">\r\n      <textarea style={{\"border\":\"solid 1px white\"}} id=\"long\" placeholder=\"Additional Description (Optional)\"></textarea>\r\n      <div className=\"btns\" style={{textAlign:\"center\"}} onClick={formHandler}>submit</div>\r\n    </div>\r\n  </div>\r\n</div>}\r\n</React.Fragment>);\r\n}\r\n\r\nexport default Form;"]},"metadata":{},"sourceType":"module"}