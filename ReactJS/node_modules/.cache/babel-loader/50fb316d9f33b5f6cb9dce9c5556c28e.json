{"ast":null,"code":"import _regeneratorRuntime from\"D:/WEB_MINI_PROJECT/web/ReactJS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/WEB_MINI_PROJECT/web/ReactJS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/WEB_MINI_PROJECT/web/ReactJS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import ErrorModal from\"../UIelements/Error\";import LoadingSpinner from\"../UIelements/LoadingSpinner\";import\"./Form.css\";import{useHttpClient}from\"./Http-Hook\";var Form2=function Form2(){useEffect(function(){document.body.style.background=\"url('https://www.myamcat.com/blog/wp-content/uploads/2016/02/graduation-hats.jpg') no-repeat center\";document.body.style.backgroundRepeat=\"no-repeat\";document.body.style.backgroundSize=\"cover\";document.body.style.backgroundPosition=\"center\";},[]);var _useState=useState(),_useState2=_slicedToArray(_useState,2),pass_error=_useState2[0],seterror=_useState2[1];var _useHttpClient=useHttpClient(),isLoading=_useHttpClient.isLoading,error=_useHttpClient.error,sendRequest=_useHttpClient.sendRequest,clearError=_useHttpClient.clearError,headers=_useHttpClient.headers;var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),header=_useState4[0],setHeader=_useState4[1];var formHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var name,role,link,date,desc,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();name=document.getElementById('name').value;role=document.getElementById('role').value;link=document.getElementById('link').value;date=document.getElementById('date').value;desc=document.getElementById('description').value;if(!(String(name).length===0)){_context.next=10;break;}seterror(\"Company name can not be empty\");setHeader(\"Please fill all data\");return _context.abrupt(\"return\");case 10:if(!(String(role).length===0)){_context.next=14;break;}seterror(\"Job role can not be empty\");setHeader(\"Please fill all data\");return _context.abrupt(\"return\");case 14:if(!(String(link).length===0)){_context.next=18;break;}seterror(\"Link can not be empty\");setHeader(\"Please fill all data\");return _context.abrupt(\"return\");case 18:if(!(String(date).length===0)){_context.next=22;break;}seterror(\"Last date can not be empty\");setHeader(\"Please fill all data\");return _context.abrupt(\"return\");case 22:if(!(String(desc).length===0)){_context.next=26;break;}seterror(\"Description/Criteria can not be empty\");setHeader(\"Please fill all data\");return _context.abrupt(\"return\");case 26:_context.prev=26;_context.next=29;return sendRequest(\"https://job-portal-sit.herokuapp.com/drive-upload\",'POST',{'Content-Type':'application/json'},JSON.stringify({name:name,role:role,link:link,date:date,desc:desc}));case 29:data=_context.sent;if(data===\"successfull\"){seterror(\"given drive stored succefully\");setHeader(\"Successfully Uploaded\");}_context.next=35;break;case 33:_context.prev=33;_context.t0=_context[\"catch\"](26);case 35:case\"end\":return _context.stop();}}},_callee,null,[[26,33]]);}));return function formHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(React.Fragment,{children:[pass_error&&/*#__PURE__*/_jsx(ErrorModal,{header:header,error:pass_error,onClear:function onClear(){seterror();}}),error&&/*#__PURE__*/_jsx(ErrorModal,{header:headers,error:error,onClear:clearError}),isLoading&&/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}),!isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"New Drive\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"drive-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-fields\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",id:\"name\",placeholder:\"Company Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",id:\"role\",placeholder:\"Job Role\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",id:\"link\",placeholder:\"Link to apply\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",id:\"date\",placeholder:\"Last date\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"msg\",children:[/*#__PURE__*/_jsx(\"textarea\",{style:{\"border\":\"solid 1px white\"},id:\"description\",placeholder:\"Description and Eligibilty criteria\"}),/*#__PURE__*/_jsx(\"div\",{className:\"btns\",style:{textAlign:\"center\"},onClick:formHandler,children:\"send\"})]})]})]})]});};export default Form2;","map":{"version":3,"sources":["D:/WEB_MINI_PROJECT/web/ReactJS/src/Hooks/Form2.js"],"names":["React","useEffect","useState","ErrorModal","LoadingSpinner","useHttpClient","Form2","document","body","style","background","backgroundRepeat","backgroundSize","backgroundPosition","pass_error","seterror","isLoading","error","sendRequest","clearError","headers","header","setHeader","formHandler","event","preventDefault","name","getElementById","value","role","link","date","desc","String","length","JSON","stringify","data","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport ErrorModal from \"../UIelements/Error\";\r\nimport LoadingSpinner from \"../UIelements/LoadingSpinner\";\r\nimport \"./Form.css\";\r\nimport { useHttpClient } from \"./Http-Hook\";\r\n\r\nconst Form2=()=>{\r\n  useEffect(()=>{\r\n    document.body.style.background= \"url('https://www.myamcat.com/blog/wp-content/uploads/2016/02/graduation-hats.jpg') no-repeat center\";\r\n    document.body.style.backgroundRepeat=\"no-repeat\";\r\n    document.body.style.backgroundSize=\"cover\";\r\n    document.body.style.backgroundPosition=\"center\";\r\n},[]);\r\n\r\n    const [pass_error,seterror]=useState();\r\n    const {isLoading,error,sendRequest,clearError,headers}=useHttpClient();\r\n    const [header,setHeader]=useState();\r\n\r\n    const formHandler=async (event)=>{\r\n      event.preventDefault();\r\n\r\n      const name= document.getElementById('name').value;\r\n      const role= document.getElementById('role').value;\r\n      let link= document.getElementById('link').value;\r\n      const date= document.getElementById('date').value;\r\n      const desc= document.getElementById('description').value;\r\n\r\n      if(String(name).length===0) {\r\n        seterror(\"Company name can not be empty\")\r\n        setHeader(\"Please fill all data\")\r\n        return;\r\n      }\r\n      if(String(role).length===0) {\r\n        seterror(\"Job role can not be empty\")\r\n        setHeader(\"Please fill all data\")\r\n        return;\r\n      }\r\n      if(String(link).length===0) {\r\n        seterror(\"Link can not be empty\")\r\n        setHeader(\"Please fill all data\")\r\n        return;\r\n      }\r\n      if(String(date).length===0) {\r\n        seterror(\"Last date can not be empty\")\r\n        setHeader(\"Please fill all data\")\r\n        return;\r\n      }\r\n      if(String(desc).length===0) {\r\n        seterror(\"Description/Criteria can not be empty\")\r\n        setHeader(\"Please fill all data\")\r\n        return;\r\n      }\r\n      try{\r\n        let data;\r\n        data= await sendRequest(\r\n          `https://job-portal-sit.herokuapp.com/drive-upload`,\r\n          'POST',\r\n          {'Content-Type':'application/json'},\r\n          JSON.stringify({\r\n                  name:name,\r\n                  role:role,\r\n                  link:link,\r\n                  date:date,\r\n                  desc:desc\r\n          }));\r\n\r\n          if(data===\"successfull\"){\r\n            seterror(\"given drive stored succefully\")\r\n            setHeader(\"Successfully Uploaded\")\r\n          }\r\n      }\r\n      catch(err){\r\n      }\r\n    }\r\n\r\n    return(\r\n        <React.Fragment>\r\n          {pass_error && <ErrorModal header={header} error={pass_error} onClear={()=>{seterror()}}/>} \r\n            {error && <ErrorModal header={headers} error={error} onClear={clearError}/>}\r\n            {isLoading && <LoadingSpinner asOverlay/>}\r\n    {!isLoading && <div className=\"wrapper\">\r\n  <div className=\"title\">\r\n    <h1>New Drive</h1>\r\n  </div>\r\n  <div className=\"drive-form\">\r\n    <div className=\"input-fields\">\r\n      <input type=\"text\" className=\"input\" id=\"name\" placeholder=\"Company Name\"/>\r\n      <input type=\"text\" className=\"input\" id=\"role\" placeholder=\"Job Role\"/>\r\n      <input type=\"text\" className=\"input\" id=\"link\" placeholder=\"Link to apply\"/>\r\n      <input type=\"text\" className=\"input\" id=\"date\" placeholder=\"Last date\"/>\r\n\r\n    </div>\r\n    <div className=\"msg\">\r\n      <textarea style={{\"border\":\"solid 1px white\"}} id=\"description\" placeholder=\"Description and Eligibilty criteria\"></textarea>\r\n      <div className=\"btns\" style={{textAlign:\"center\"}} onClick={formHandler}>send</div>\r\n    </div>\r\n  </div>\r\n</div>}\r\n</React.Fragment>);\r\n}\r\n\r\nexport default Form2;"]},"metadata":{},"sourceType":"module"}